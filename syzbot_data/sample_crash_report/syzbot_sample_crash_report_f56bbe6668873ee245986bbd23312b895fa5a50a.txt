general protection fault, probably for non-canonical address 0xdffffc0000000002: 0000 [#1] PREEMPT SMP KASAN
KASAN: null-ptr-deref in range [0x0000000000000010-0x0000000000000017]
CPU: 1 PID: 6810 Comm: syz-executor018 Not tainted 5.8.0-rc2-syzkaller #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
RIP: 0010:qrtr_endpoint_post+0x8f/0x1110 net/qrtr/qrtr.c:440
Code: 44 89 ee ba 20 0a 00 00 e8 0e d9 4f fe 48 85 c0 0f 84 5c 02 00 00 49 89 c7 4c 89 e0 48 c1 e8 03 48 b9 00 00 00 00 00 fc ff df <8a> 04 08 84 c0 0f 85 7d 09 00 00 4d 8d 77 28 41 0f b6 1c 24 48 89
RSP: 0018:ffffc900023efd20 EFLAGS: 00010202
RAX: 0000000000000002 RBX: ffff8880a73efd08 RCX: dffffc0000000000
RDX: 0000000000000000 RSI: 0000000000000000 RDI: ffff8880a1cdac38
RBP: ffff8880a2805800 R08: ffffffff866434bc R09: ffffed1010b32c1d
R10: ffffed1010b32c1d R11: 0000000000000000 R12: 0000000000000010
R13: 0000000000000000 R14: ffffc900023efdd8 R15: ffff8880a1cdab80
FS:  00000000008a2880(0000) GS:ffff8880ae900000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00000000004551b0 CR3: 0000000093caa000 CR4: 00000000001406e0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
Call Trace:
 qrtr_tun_write_iter+0xc6/0x120 net/qrtr/tun.c:92
 call_write_iter include/linux/fs.h:1907 [inline]
 new_sync_write fs/read_write.c:484 [inline]
 __vfs_write+0x52f/0x6e0 fs/read_write.c:497
 vfs_write+0x274/0x580 fs/read_write.c:559
 ksys_write+0x11b/0x220 fs/read_write.c:612
 do_syscall_64+0x73/0xe0 arch/x86/entry/common.c:359
 entry_SYSCALL_64_after_hwframe+0x44/0xa9
RIP: 0033:0x440249
Code: Bad RIP value.
RSP: 002b:00007ffde0e93aa8 EFLAGS: 00000246 ORIG_RAX: 0000000000000001
RAX: ffffffffffffffda RBX: 00007ffde0e93ab0 RCX: 0000000000440249
RDX: 0000000000000000 RSI: 0000000000000000 RDI: 0000000000000004
RBP: 00000000006ca018 R08: 000000000000000f R09: 65732f636f72702f
R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000401b30
R13: 0000000000401bc0 R14: 0000000000000000 R15: 0000000000000000
Modules linked in:
---[ end trace fb0bc1429785a12d ]---
RIP: 0010:qrtr_endpoint_post+0x8f/0x1110 net/qrtr/qrtr.c:440
Code: 44 89 ee ba 20 0a 00 00 e8 0e d9 4f fe 48 85 c0 0f 84 5c 02 00 00 49 89 c7 4c 89 e0 48 c1 e8 03 48 b9 00 00 00 00 00 fc ff df <8a> 04 08 84 c0 0f 85 7d 09 00 00 4d 8d 77 28 41 0f b6 1c 24 48 89
RSP: 0018:ffffc900023efd20 EFLAGS: 00010202
RAX: 0000000000000002 RBX: ffff8880a73efd08 RCX: dffffc0000000000
RDX: 0000000000000000 RSI: 0000000000000000 RDI: ffff8880a1cdac38
RBP: ffff8880a2805800 R08: ffffffff866434bc R09: ffffed1010b32c1d
R10: ffffed1010b32c1d R11: 0000000000000000 R12: 0000000000000010
R13: 0000000000000000 R14: ffffc900023efdd8 R15: ffff8880a1cdab80
FS:  00000000008a2880(0000) GS:ffff8880ae900000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00000000004551b0 CR3: 0000000093caa000 CR4: 00000000001406e0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
