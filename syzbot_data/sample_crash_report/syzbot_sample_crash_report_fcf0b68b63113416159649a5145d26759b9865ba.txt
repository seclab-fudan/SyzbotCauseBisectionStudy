------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Not tainted 6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0509a58 x19: ffff800012586980 x18: ffff80001eaa66e0
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 40726
hardirqs last  enabled at (40725): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (40725): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (40725): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (40726): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (40360): [<ffff800008020ea8>] softirq_handle_end kernel/softirq.c:414 [inline]
softirqs last  enabled at (40360): [<ffff800008020ea8>] __do_softirq+0xd4c/0xfa4 kernel/softirq.c:600
softirqs last disabled at (40353): [<ffff80000802b4a4>] ____do_softirq+0x14/0x20 arch/arm64/kernel/irq.c:80
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e050edf8 x19: ffff800012586980 x18: ffff80001eaa6c60
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 45276
hardirqs last  enabled at (45275): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (45275): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (45275): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (45276): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (44570): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (44568): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000ddaccb40 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 63218
hardirqs last  enabled at (63217): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (63217): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (63217): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (63218): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (62498): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (62496): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0645970 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 100072
hardirqs last  enabled at (100071): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (100071): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (100071): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (100072): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (99356): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (99354): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000000 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0663a58 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 153860
hardirqs last  enabled at (153859): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (153859): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (153859): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (153860): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (153102): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (153100): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0668ee0 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 158800
hardirqs last  enabled at (158799): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (158799): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (158799): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (158800): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (158540): [<ffff800008020ea8>] softirq_handle_end kernel/softirq.c:414 [inline]
softirqs last  enabled at (158540): [<ffff800008020ea8>] __do_softirq+0xd4c/0xfa4 kernel/softirq.c:600
softirqs last disabled at (158437): [<ffff80000802b4a4>] ____do_softirq+0x14/0x20 arch/arm64/kernel/irq.c:80
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0673d10 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 171946
hardirqs last  enabled at (171945): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (171945): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (171945): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (171946): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (170838): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (170836): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e047d7a0 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 197088
hardirqs last  enabled at (197087): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (197087): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (197087): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (197088): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (196392): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (196390): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000dd94fee0 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 298182
hardirqs last  enabled at (298181): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (298181): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (298181): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (298182): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (297494): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (297492): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000dd94bdf8 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 302010
hardirqs last  enabled at (302009): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (302009): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (302009): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (302010): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (301686): [<ffff800008020ea8>] softirq_handle_end kernel/softirq.c:414 [inline]
softirqs last  enabled at (301686): [<ffff800008020ea8>] __do_softirq+0xd4c/0xfa4 kernel/softirq.c:600
softirqs last disabled at (301675): [<ffff80000802b4a4>] ____do_softirq+0x14/0x20 arch/arm64/kernel/irq.c:80
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e05f8970 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 347782
hardirqs last  enabled at (347781): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (347781): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (347781): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (347782): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (347046): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (347044): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000ddbc76b8 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 365726
hardirqs last  enabled at (365725): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (365725): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (365725): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (365726): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (365656): [<ffff800008020ea8>] softirq_handle_end kernel/softirq.c:414 [inline]
softirqs last  enabled at (365656): [<ffff800008020ea8>] __do_softirq+0xd4c/0xfa4 kernel/softirq.c:600
softirqs last disabled at (365645): [<ffff80000802b4a4>] ____do_softirq+0x14/0x20 arch/arm64/kernel/irq.c:80
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000ddac3c28 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 369644
hardirqs last  enabled at (369643): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (369643): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (369643): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (369644): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (369386): [<ffff800008020ea8>] softirq_handle_end kernel/softirq.c:414 [inline]
softirqs last  enabled at (369386): [<ffff800008020ea8>] __do_softirq+0xd4c/0xfa4 kernel/softirq.c:600
softirqs last disabled at (369381): [<ffff80000802b4a4>] ____do_softirq+0x14/0x20 arch/arm64/kernel/irq.c:80
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0596148 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 388828
hardirqs last  enabled at (388827): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (388827): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (388827): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (388828): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (388130): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (388128): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e060c6b8 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 398384
hardirqs last  enabled at (398383): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (398383): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (398383): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (398384): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (397660): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (397658): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000000 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0646060 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 406440
hardirqs last  enabled at (406439): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (406439): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (406439): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (406440): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (405668): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (405666): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 1 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 1 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91108 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b450ae98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000ddb87a58 x19: ffff800012586980 x18: 1fffe0003689f976
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 442286
hardirqs last  enabled at (442285): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (442285): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (442285): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (442286): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (441590): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (441588): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000000 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000ddad1d10 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 451116
hardirqs last  enabled at (451115): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (451115): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (451115): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (451116): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (450304): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (450302): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0669a58 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 455132
hardirqs last  enabled at (455131): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (455131): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (455131): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (455132): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (454370): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (454368): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e0669400 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 458982
hardirqs last  enabled at (458981): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (458981): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (458981): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (458982): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (458250): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
softirqs last disabled at (458248): [<ffff80000803418c>] local_bh_disable+0x10/0x34 include/linux/bottom_half.h:19
---[ end trace 0000000000000000 ]---
------------[ cut here ]------------
VFS: brelse: Trying to free free buffer
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __brelse fs/buffer.c:1145 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 brelse include/linux/buffer_head.h:326 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
WARNING: CPU: 0 PID: 5921 at fs/buffer.c:1145 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
Modules linked in:
CPU: 0 PID: 5921 Comm: syz-executor296 Tainted: G        W          6.2.0-syzkaller-18300-g2ebd1fbb946d #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/21/2023
pstate: 604000c5 (nZCv daIF +PAN -UAO -TCO -DIT -SSBS BTYPE=--)
pc : __brelse fs/buffer.c:1145 [inline]
pc : brelse include/linux/buffer_head.h:326 [inline]
pc : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
pc : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
lr : __brelse fs/buffer.c:1145 [inline]
lr : brelse include/linux/buffer_head.h:326 [inline]
lr : __invalidate_bh_lrus fs/buffer.c:1380 [inline]
lr : invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
sp : ffff80001eaa7370
x29: ffff80001eaa7370 x28: ffff800015b91110 x27: ffff800015b8d000
x26: 0000000000000001 x25: 00000000ffffffff x24: ffff0001b44e9e98
x23: 0000000000000018 x22: dfff800000000000 x21: 0000000000000000
x20: ffff0000e06775d0 x19: ffff800012586980 x18: 1fffe0003689b776
x17: 0000000000000000 x16: ffff80001235d16c x15: 0000000000000000
x14: 0000000000000000 x13: 0000000000000001 x12: 0000000000000001
x11: ff80800008353a30 x10: 0000000000000000 x9 : c34bb291ee294d00
x8 : c34bb291ee294d00 x7 : 0000000000000001 x6 : 0000000000000001
x5 : ffff80001eaa6c78 x4 : ffff800015c74760 x3 : ffff800008596744
x2 : 0000000000000001 x1 : 0000000100000002 x0 : 0000000000000027
Call trace:
 __brelse fs/buffer.c:1145 [inline]
 brelse include/linux/buffer_head.h:326 [inline]
 __invalidate_bh_lrus fs/buffer.c:1380 [inline]
 invalidate_bh_lru+0x128/0x200 fs/buffer.c:1393
 smp_call_function_many_cond+0x1998/0x321c kernel/smp.c:978
 on_each_cpu_cond_mask+0x5c/0xc4 kernel/smp.c:1155
 on_each_cpu_cond include/linux/smp.h:105 [inline]
 invalidate_bh_lrus+0x34/0x40 fs/buffer.c:1412
 kill_bdev block/bdev.c:75 [inline]
 blkdev_flush_mapping+0x128/0x280 block/bdev.c:662
 blkdev_put_whole block/bdev.c:693 [inline]
 blkdev_put+0x464/0x6e0 block/bdev.c:953
 kill_block_super+0x98/0xdc fs/super.c:1389
 deactivate_locked_super+0xac/0x124 fs/super.c:332
 deactivate_super+0xf0/0x110 fs/super.c:363
 cleanup_mnt+0x394/0x41c fs/namespace.c:1291
 __cleanup_mnt+0x20/0x30 fs/namespace.c:1298
 task_work_run+0x240/0x2f0 kernel/task_work.c:179
 resume_user_mode_work include/linux/resume_user_mode.h:49 [inline]
 do_notify_resume+0x2180/0x3c90 arch/arm64/kernel/signal.c:1302
 prepare_exit_to_user_mode arch/arm64/kernel/entry-common.c:137 [inline]
 exit_to_user_mode arch/arm64/kernel/entry-common.c:142 [inline]
 el0_svc+0x9c/0x168 arch/arm64/kernel/entry-common.c:638
 el0t_64_sync_handler+0x84/0xf0 arch/arm64/kernel/entry-common.c:655
 el0t_64_sync+0x190/0x194 arch/arm64/kernel/entry.S:591
irq event stamp: 462784
hardirqs last  enabled at (462783): [<ffff800008791950>] mod_lruvec_page_state include/linux/vmstat.h:563 [inline]
hardirqs last  enabled at (462783): [<ffff800008791950>] lruvec_stat_mod_folio include/linux/vmstat.h:639 [inline]
hardirqs last  enabled at (462783): [<ffff800008791950>] __folio_end_writeback+0x60c/0x978 mm/page-writeback.c:3060
hardirqs last disabled at (462784): [<ffff8000084644bc>] smp_call_function_many_cond+0x198c/0x321c kernel/smp.c:977
softirqs last  enabled at (462058): [<ffff8000080341c0>] local_bh_enable+0x10/0x34 include/linux/bottom_half.h:32
