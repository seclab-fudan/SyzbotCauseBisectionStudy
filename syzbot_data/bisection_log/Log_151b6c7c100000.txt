bisecting cause commit starting from a811c1fa0a02c062555b54651065899437bacdbe
building syzkaller on 98cbd87b5f62bd8556ef5f8323f47fdf032aa3d2
testing commit a811c1fa0a02c062555b54651065899437bacdbe with gcc (GCC) 8.1.0
kernel signature: d4584b4abd997a419c19ec4f9486cfad395b21ba63aa5313ec6b40bdb0d0391d
all runs: crashed: WARNING in cgroup_apply_control_disable
testing release v5.6
testing commit 7111951b8d4973bda27ff663f2cf18b663d15b48 with gcc (GCC) 8.1.0
kernel signature: bea6d8129464696c55ba82432bcf0f34a2c72d54ac970db42e6913ec9330b78e
all runs: crashed: WARNING in cgroup_apply_control_disable
testing release v5.5
testing commit d5226fa6dbae0569ee43ecfc08bdcd6770fc4755 with gcc (GCC) 8.1.0
kernel signature: 3a9345078638f0de13592f07d7ea38e887a61ac10ce18af53836d14428ed7012
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v5.4
testing commit 219d54332a09e8d8741c1e1982f5eae56099de85 with gcc (GCC) 8.1.0
kernel signature: 3a0f2382aeeb76f0d3d212ebeeafe290a6acefed376bb0bd963a9de306dd26f9
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v5.3
testing commit 4d856f72c10ecb060868ed10ff1b1453943fc6c8 with gcc (GCC) 8.1.0
kernel signature: 64a6d6d5863bfe44d606fa8a3c7f63b2adbb87ec0c22827fa1bf4dccb1e651a2
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v5.2
testing commit 0ecfebd2b52404ae0c54a878c872bb93363ada36 with gcc (GCC) 8.1.0
kernel signature: 1fa78bbd4b72070b8daf3fbbe29e5551b854fad00be2de1370f4796935a7fef2
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v5.1
testing commit e93c9c99a629c61837d5a7fc2120cd2b6c70dbdd with gcc (GCC) 8.1.0
kernel signature: bf5a3f2578095a875757a24c5f21dc8be2caccc79ea4462f4b70e5ef5fd2f2cc
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v5.0
testing commit 1c163f4c7b3f621efff9b28a47abb36f7378d783 with gcc (GCC) 8.1.0
kernel signature: 65a2f471000d52373ffc546037dacf2d0969b2b2751f51ea44e9f161ca063a69
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.20
testing commit 8fe28cb58bcb235034b64cbbb7550a8a43fd88be with gcc (GCC) 8.1.0
kernel signature: 8dd00a80d12a8197372fb52534f018fbb643aff5872761788aca51f16d8dd818
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.19
testing commit 84df9525b0c27f3ebc2ebb1864fa62a97fdedb7d with gcc (GCC) 8.1.0
kernel signature: 0f931d9c2792d0d1a3381bc287635da0439cf0e58b2aacbe7c249a4634d97e56
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.18
testing commit 94710cac0ef4ee177a63b5227664b38c95bbf703 with gcc (GCC) 8.1.0
kernel signature: 38e17bb33aeabf71722f889a9d6444e3ab15026627caff28f031dd11fcb41c62
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.17
testing commit 29dcea88779c856c7dc92040a0c01233263101d4 with gcc (GCC) 8.1.0
kernel signature: 0dab0b7cbae1632ef78963806b5692296885f302d0ef98ab1488fc26b85fbb86
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.16
testing commit 0adb32858b0bddf4ada5f364a84ed60b196dbcda with gcc (GCC) 8.1.0
kernel signature: 287dc17884704d8cd2ffa48945988ae4d30e29d4bf31628b6354d8ca678af076
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.15
testing commit d8a5b80568a9cb66810e75b182018e9edb68e8ff with gcc (GCC) 8.1.0
kernel signature: 89e1fb7cd2ee9837ec2e8553c2d5b283d3040ba5d1a87c69227123635ad5b42f
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.14
testing commit bebc6082da0a9f5d47a1ea2edc099bf671058bd4 with gcc (GCC) 8.1.0
kernel signature: 64091dbb348b04fb745ed6617a5f15dce1bfd394982266dac03f135320bfab84
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.13
testing commit 569dbb88e80deb68974ef6fdd6a13edb9d686261 with gcc (GCC) 8.1.0
kernel signature: 8c6fe1b88f7d30c85cc4fda6e2058bd4f5701d98dc892623bbb468a956f6f0fe
all runs: crashed: WARNING in cgroup_apply_control_enable
testing release v4.12
testing commit 6f7da290413ba713f0cdd9ff1a2a9bb129ef4f6c with gcc (GCC) 8.1.0
kernel signature: 20ef213b6fcc44c4b802339eafc2ed6c8bac4a143d8026fad86ef26f9e1f25fa
all runs: crashed: BUG: sleeping function called from invalid context in tap_get_minor
testing release v4.11
testing commit a351e9b9fc24e982ec2f0e76379a49826036da12 with gcc (GCC) 7.3.0
kernel signature: 32dc8f04f0f7e19a0fbab8af51673def3c96f4895cd21ee646e68a5aad8742fe
all runs: crashed: BUG: sleeping function called from invalid context in tap_get_minor
testing release v4.10
testing commit c470abd4fde40ea6a0846a2beab642a578c0b8cd with gcc (GCC) 5.5.0
kernel signature: 8c620f7f4ee4177d4e827cddde1e4418772678d885249d006861bf8597ad39d7
all runs: OK
# git bisect start a351e9b9fc24e982ec2f0e76379a49826036da12 c470abd4fde40ea6a0846a2beab642a578c0b8cd
Bisecting: 7088 revisions left to test after this (roughly 13 steps)
[1ec5c1867af085897bb9e0f67bef3713334dbe7f] Merge tag 'gpio-v4.11-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio
testing commit 1ec5c1867af085897bb9e0f67bef3713334dbe7f with gcc (GCC) 5.5.0
kernel signature: 6b3c33be0aee26381748d8a0cd48245bb6d5ddabb2a6220a35d2ddeeb406e236
all runs: boot failed: WARNING in __hrtimer_init
# git bisect skip 1ec5c1867af085897bb9e0f67bef3713334dbe7f
Bisecting: 7088 revisions left to test after this (roughly 13 steps)
[a9d2d53a788a9c5bc8a7d1b4ea7857b68e221357] ixgbe: test for trust in macvlan adjustments for VF
testing commit a9d2d53a788a9c5bc8a7d1b4ea7857b68e221357 with gcc (GCC) 5.5.0
kernel signature: 35f169ef057b97df4cff01250a328f8c164e3c32bcdcad217afb7d17eaab6aa4
run #0: crashed: general protection fault in batadv_iv_ogm_queue_add
run #1: crashed: WARNING in nf_unregister_net_hook
run #2: crashed: WARNING in nf_unregister_net_hook
run #3: OK
run #4: OK
run #5: OK
run #6: OK
run #7: OK
run #8: OK
run #9: OK
# git bisect bad a9d2d53a788a9c5bc8a7d1b4ea7857b68e221357
Bisecting: 61 revisions left to test after this (roughly 7 steps)
[85eb018fec29eae60d20f6d04af854308ffb3a05] Merge tag 'wireless-drivers-next-for-davem-2017-01-02' of git://git.kernel.org/pub/scm/linux/kernel/git/kvalo/wireless-drivers-next
testing commit 85eb018fec29eae60d20f6d04af854308ffb3a05 with gcc (GCC) 5.5.0
kernel signature: 43ccb5edfbb70fa99012eb647cb3fdd570276ceec8df071277cc55eb889ef299
run #0: crashed: WARNING in nf_unregister_net_hook
run #1: crashed: WARNING in nf_unregister_net_hook
run #2: crashed: WARNING in nf_unregister_net_hook
run #3: crashed: general protection fault in batadv_iv_ogm_queue_add
run #4: crashed: WARNING in nf_unregister_net_hook
run #5: OK
run #6: OK
run #7: OK
run #8: OK
run #9: OK
# git bisect bad 85eb018fec29eae60d20f6d04af854308ffb3a05
Bisecting: 56 revisions left to test after this (roughly 6 steps)
[50913e32c6cf8f76f5a47365b025e26fcff87595] Merge ath-next from git://git.kernel.org/pub/scm/linux/kernel/git/kvalo/ath.git
testing commit 50913e32c6cf8f76f5a47365b025e26fcff87595 with gcc (GCC) 5.5.0
kernel signature: ecb9a4da64dcad56ccba1f6129b7aac59ed821a4f5d4790c6eeffa8f736ba292
run #0: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "-i" "/syzkaller/jobs/linux/workdir/image/key" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.201:./syz-fuzzer"]: exit status 1
Connection timed out during banner exchange
lost connection

run #1: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "-i" "/syzkaller/jobs/linux/workdir/image/key" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.43:./syz-fuzzer"]: exit status 1
Connection timed out during banner exchange
lost connection

run #2: basic kernel testing failed: failed to copy test binary to VM: timedout ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "-i" "/syzkaller/jobs/linux/workdir/image/key" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.193:./syz-fuzzer"]
run #3: boot failed: can't ssh into the instance
run #4: boot failed: can't ssh into the instance
run #5: boot failed: can't ssh into the instance
run #6: boot failed: can't ssh into the instance
run #7: boot failed: can't ssh into the instance
run #8: boot failed: can't ssh into the instance
run #9: boot failed: can't ssh into the instance
# git bisect skip 50913e32c6cf8f76f5a47365b025e26fcff87595
Bisecting: 56 revisions left to test after this (roughly 6 steps)
[68515a186cf8a8f97956eaea5829277752399f58] bnxt_en: Fix and clarify link_info->advertising.
testing commit 68515a186cf8a8f97956eaea5829277752399f58 with gcc (GCC) 5.5.0
kernel signature: 9e3e9d3d608140d7454ec25c45df19ddc93684451c280cff1a1f5b4a38443066
run #0: crashed: WARNING in nf_unregister_net_hook
run #1: crashed: WARNING in nf_unregister_net_hook
run #2: OK
run #3: OK
run #4: OK
run #5: OK
run #6: OK
run #7: OK
run #8: OK
run #9: OK
# git bisect bad 68515a186cf8a8f97956eaea5829277752399f58
Bisecting: 9 revisions left to test after this (roughly 3 steps)
[5671e8c19c8cb4dd432e54f5bc5e2e9a9bac894b] fddi: skfp: Use more common logging styles
testing commit 5671e8c19c8cb4dd432e54f5bc5e2e9a9bac894b with gcc (GCC) 5.5.0
kernel signature: 976af40c38955ea525cdf580cf2b5baf0210a9ea392cfbcd50444055b71f1460
run #0: crashed: WARNING in nf_unregister_net_hook
run #1: crashed: WARNING in nf_unregister_net_hook
run #2: crashed: WARNING in nf_unregister_net_hook
run #3: OK
run #4: OK
run #5: OK
run #6: OK
run #7: OK
run #8: OK
run #9: OK
# git bisect bad 5671e8c19c8cb4dd432e54f5bc5e2e9a9bac894b
Bisecting: 5 revisions left to test after this (roughly 3 steps)
[509e7a311f0423bce6d3e1705ba0a470ffe770dc] sctp: sctp_chunk_length_valid should return bool
testing commit 509e7a311f0423bce6d3e1705ba0a470ffe770dc with gcc (GCC) 5.5.0
kernel signature: f3eedc21679e5920ca2acee3e8f91efac885403ef8226f20426f0b729596e7e7
run #0: crashed: WARNING in nf_unregister_net_hook
run #1: crashed: WARNING in nf_unregister_net_hook
run #2: crashed: WARNING in nf_unregister_net_hook
run #3: crashed: WARNING in nf_unregister_net_hook
run #4: OK
run #5: OK
run #6: OK
run #7: OK
run #8: OK
run #9: OK
# git bisect bad 509e7a311f0423bce6d3e1705ba0a470ffe770dc
Bisecting: 1 revision left to test after this (roughly 1 step)
[0630c56e40b0bcca299d3b4c20ffcfddbe6a0218] sctp: simplify addr copy
testing commit 0630c56e40b0bcca299d3b4c20ffcfddbe6a0218 with gcc (GCC) 5.5.0
kernel signature: 14be8efb19fa233089f28015bafa7741ecb725f1618d2626570061a465e9b8e7
run #0: crashed: WARNING in nf_unregister_net_hook
run #1: crashed: WARNING in nf_unregister_net_hook
run #2: OK
run #3: OK
run #4: OK
run #5: OK
run #6: OK
run #7: OK
run #8: OK
run #9: OK
# git bisect bad 0630c56e40b0bcca299d3b4c20ffcfddbe6a0218
Bisecting: 0 revisions left to test after this (roughly 1 step)
[1ff0156167dfb625c2e82aefded6b4cf245476ce] sctp: reduce indent level in sctp_sf_shut_8_4_5
testing commit 1ff0156167dfb625c2e82aefded6b4cf245476ce with gcc (GCC) 5.5.0
kernel signature: 54af7052ad31adb9ce3a24e521137a3c342a83b6381f1e9f2ceaad7af6ef7d5a
run #0: crashed: WARNING in nf_unregister_net_hook
run #1: crashed: WARNING in nf_unregister_net_hook
run #2: crashed: WARNING in nf_unregister_net_hook
run #3: OK
run #4: OK
run #5: OK
run #6: OK
run #7: OK
run #8: OK
run #9: OK
# git bisect bad 1ff0156167dfb625c2e82aefded6b4cf245476ce
Bisecting: 0 revisions left to test after this (roughly 0 steps)
[eab59075d3cd7f3535aa2dbbc19a198dfee58892] sctp: reduce indent level at sctp_sf_tabort_8_4_8
testing commit eab59075d3cd7f3535aa2dbbc19a198dfee58892 with gcc (GCC) 5.5.0
kernel signature: 1e83ab6a0ea12573d496d6c05511534df942d88f36f7ae6d157f3e0f3ab99cba
run #0: crashed: WARNING in nf_unregister_net_hook
run #1: crashed: WARNING in nf_unregister_net_hook
run #2: crashed: WARNING in nf_unregister_net_hook
run #3: OK
run #4: OK
run #5: OK
run #6: OK
run #7: OK
run #8: OK
run #9: OK
# git bisect bad eab59075d3cd7f3535aa2dbbc19a198dfee58892
eab59075d3cd7f3535aa2dbbc19a198dfee58892 is the first bad commit
commit eab59075d3cd7f3535aa2dbbc19a198dfee58892
Author: Marcelo Ricardo Leitner <marcelo.leitner@gmail.com>
Date:   Wed Dec 28 09:26:31 2016 -0200

    sctp: reduce indent level at sctp_sf_tabort_8_4_8
    
    Signed-off-by: Marcelo Ricardo Leitner <marcelo.leitner@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

 net/sctp/sm_statefuns.c | 44 +++++++++++++++++++++-----------------------
 1 file changed, 21 insertions(+), 23 deletions(-)
parent commit 8f18e4d03ed8fa5e4a300c94550533bd8ce4ff9a wasn't tested
testing commit 8f18e4d03ed8fa5e4a300c94550533bd8ce4ff9a with gcc (GCC) 5.5.0
kernel signature: e6a5971734241dce2e6b2423aa847f7d0edaf5c6b98a698e6ec2856d1496b376
culprit signature: 1e83ab6a0ea12573d496d6c05511534df942d88f36f7ae6d157f3e0f3ab99cba
parent  signature: e6a5971734241dce2e6b2423aa847f7d0edaf5c6b98a698e6ec2856d1496b376
revisions tested: 29, total time: 5h41m43.960843255s (build: 2h36m16.677746044s, test: 3h2m7.06804214s)
first bad commit: eab59075d3cd7f3535aa2dbbc19a198dfee58892 sctp: reduce indent level at sctp_sf_tabort_8_4_8
cc: ["davem@davemloft.net" "linux-kernel@vger.kernel.org" "linux-sctp@vger.kernel.org" "marcelo.leitner@gmail.com" "netdev@vger.kernel.org" "nhorman@tuxdriver.com" "vyasevich@gmail.com"]
crash: WARNING in nf_unregister_net_hook
------------[ cut here ]------------
WARNING: CPU: 0 PID: 183 at net/netfilter/core.c:147 nf_unregister_net_hook+0x292/0x3c0 net/netfilter/core.c:147
nf_unregister_net_hook: hook not found!
Kernel panic - not syncing: panic_on_warn set ...

CPU: 0 PID: 183 Comm: kworker/u4:3 Not tainted 4.10.0-rc1-syzkaller #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Workqueue: netns cleanup_net
Call Trace:
 __dump_stack lib/dump_stack.c:15 [inline]
 dump_stack+0x136/0x1d4 lib/dump_stack.c:51
 panic+0x1b6/0x358 kernel/panic.c:179
 __warn+0x18d/0x1b0 kernel/panic.c:539
 warn_slowpath_fmt+0x92/0xb0 kernel/panic.c:562
 nf_unregister_net_hook+0x292/0x3c0 net/netfilter/core.c:147
 nf_unregister_hook_list net/netfilter/core.c:443 [inline]
 netfilter_net_exit+0x36/0xa0 net/netfilter/core.c:475
 ops_exit_list.isra.0+0x8e/0x120 net/core/net_namespace.c:139
 cleanup_net+0x38e/0x7d0 net/core/net_namespace.c:461
 process_one_work+0x685/0x1660 kernel/workqueue.c:2098
 worker_thread+0xe1/0x1110 kernel/workqueue.c:2232
 kthread+0x2c9/0x3d0 kernel/kthread.c:227
 ret_from_fork+0x2a/0x40 arch/x86/entry/entry_64.S:427
Kernel Offset: disabled

