bisecting cause commit starting from a8ad9a2434dc7967ab285437f443cae633b6fc1c
building syzkaller on 6b3c5e64ee67d74980d229cd1332aa038d4ce936
testing commit a8ad9a2434dc7967ab285437f443cae633b6fc1c
compiler: gcc (GCC) 10.2.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: 13be3ffc91bba911ea8cdb0cc757ac0c5d0041a3da935fb5ced93fbfbee0ac1f
all runs: crashed: possible deadlock in display_open
testing release v5.15
testing commit 8bb7eca972ad531c9b149c0a51ab43a417385813
compiler: gcc (GCC) 10.2.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: 4eda65bb0ed70e64cbdfc7538a5fe842ee4334bbe41999c3960a0fdd3dc02575
all runs: crashed: possible deadlock in display_open
testing release v5.14
testing commit 7d2a07b769330c34b4deabeed939325c77a7ec2f
compiler: gcc (GCC) 10.2.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: fdfe9d68da08535da6f5146b3990d2c60178dfb0664c0fc62d32fedb96568655
all runs: crashed: possible deadlock in display_open
testing release v5.13
testing commit 62fb9874f5da54fdb243003b386128037319b219
compiler: gcc (GCC) 10.2.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: 6c3345e6367a7be5f247cc33186f278d4ebecc41a8fd706ff0ad04ad8b97dcf5
run #0: basic kernel testing failed: BUG: sleeping function called from invalid context in lock_sock_nested
run #1: crashed: possible deadlock in display_open
run #2: crashed: possible deadlock in display_open
run #3: crashed: possible deadlock in display_open
run #4: crashed: possible deadlock in display_open
run #5: crashed: possible deadlock in display_open
run #6: crashed: possible deadlock in display_open
run #7: crashed: possible deadlock in display_open
run #8: crashed: possible deadlock in display_open
run #9: crashed: possible deadlock in display_open
testing release v5.12
testing commit 9f4ad9e425a1d3b6a34617b8ea226d56a119a717
compiler: gcc (GCC) 10.2.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: 5f46ddbe9827c020ce0ae88f1c4c20ff8f8f924177d40b511fa4d951efb4c728
all runs: crashed: possible deadlock in display_open
testing release v5.11
testing commit f40ddce88593482919761f74910f42f4b84c004b
compiler: gcc (GCC) 10.2.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: ab549d96d27d641a39525890fcbc47e5ebcd19b1f44738da1a8ef01a1648580e
all runs: crashed: possible deadlock in display_open
testing release v5.10
testing commit 2c85ebc57b3e1817b6ce1a6b703928e113a90442
compiler: gcc (GCC) 10.2.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: dcada6eb2a24a81e358a4f0fb10aade0fc1b1659490e0cc002c8a780be60980a
all runs: basic kernel testing failed: KASAN: use-after-free Read in task_active_pid_ns
testing release v5.9
testing commit bbf5c979011a099af5dc76498918ed7df445635b
compiler: gcc (GCC) 10.2.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: 512f8338525e57857bf3ae75d29a4df8fbf34a41ca0a81ec9081960eb765f52c
all runs: basic kernel testing failed: KASAN: use-after-free Read in task_active_pid_ns
testing release v5.8
testing commit bcf876870b95592b52519ed4aafcf9d95999bc9c
compiler: gcc (GCC) 8.4.1 20210217, GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: 57a87d808623b35821e1c0b8e1beebbd50678384aaec624215150825c456bb95
all runs: basic kernel testing failed: KASAN: use-after-free Read in task_active_pid_ns
testing release v5.7
testing commit 3d77e6a8804abcc0504c904bd6e5cdf3a5cf8162
compiler: gcc version 8.4.1 20210217 (GCC), GNU ld (GNU Binutils for Debian) 2.35.2
kernel signature: 424d91046727532b46bd31455c086ff8ba42932558dd2a1f4dfa75504881838b
all runs: basic kernel testing failed: KASAN: use-after-free Read in task_active_pid_ns
testing release v5.6
testing commit 7111951b8d4973bda27ff663f2cf18b663d15b48
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: 6ddf3c4105b987751fb19653a1a7f464949455c15ca2bbab86f91543e41bdac6
all runs: basic kernel testing failed: KASAN: use-after-free Read in task_active_pid_ns
testing release v5.5
testing commit d5226fa6dbae0569ee43ecfc08bdcd6770fc4755
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: 293960acc41acd188a4f4b1084ee81837c4377a2521c40f74b2f27e422b27763
all runs: basic kernel testing failed: KASAN: use-after-free Read in task_active_pid_ns
testing release v5.4
testing commit 219d54332a09e8d8741c1e1982f5eae56099de85
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: a04d1eb1e2adf6ae6cc4c7e119e06e7953e5dcb0dcc788ce5082ab79f326cdfd
all runs: basic kernel testing failed: KASAN: use-after-free Read in task_active_pid_ns
testing release v5.3
testing commit 4d856f72c10ecb060868ed10ff1b1453943fc6c8
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: 8e39b9ccf3741127a1f62c6f11fbe849f7958fc9f1e254a913f7ee6196d3c318
run #0: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.90:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.90' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #1: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.189:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.189' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #2: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.203:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.203' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #3: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.62:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.62' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #4: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.211:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.211' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #5: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.110:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.110' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #6: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.216:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.216' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #7: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.8:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.8' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #8: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.57:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.57' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #9: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.192:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.192' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

testing release v5.2
testing commit 0ecfebd2b52404ae0c54a878c872bb93363ada36
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: 9f806523ef8f91cf7d41b70b481d886d5fd9072f114966eb7a9f2c62b8d26ae0
run #0: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.182:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.182' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #1: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.1.47:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.1.47' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #2: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.47:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.47' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #3: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.28:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.28' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #4: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.31:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.31' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #5: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.43:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.43' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #6: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.33:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.33' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #7: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.35:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.35' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #8: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.37:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.37' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #9: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.40:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.40' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

testing release v5.1
testing commit e93c9c99a629c61837d5a7fc2120cd2b6c70dbdd
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: 99cd4a5b9a7a58b4633b4b44ef188677f49ab2c405cdf9cc64ab9c06f3d0dfa6
run #0: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.215:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.215' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #1: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.1.62:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.1.62' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #2: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.217:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.217' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #3: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.218:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.218' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #4: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.167:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.167' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #5: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.18:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.18' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #6: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.6:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.6' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #7: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.25:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.25' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #8: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.22:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.22' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #9: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.219:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.219' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

testing release v5.0
testing commit 1c163f4c7b3f621efff9b28a47abb36f7378d783
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: 7a9a3f2c8fdc4a93c4da15e8b74e51b0369e06fde20c47d01e5f7e1411aa9a11
run #0: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.92:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.92' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #1: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.133:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.133' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #2: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.149:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.149' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #3: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.204:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.204' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #4: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.229:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.229' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #5: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.222:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.222' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #6: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.214:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.214' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #7: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.40:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.40' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #8: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.1.40:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.1.40' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #9: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.196:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.196' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

testing release v4.20
testing commit 8fe28cb58bcb235034b64cbbb7550a8a43fd88be
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: a233986bf23b3aaa4e3a7e92504198e03b213e8e0ccae989b7456362c7ebbf20
run #0: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.209:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.209' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #1: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.212:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.212' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #2: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.213:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.213' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #3: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.214:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.214' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #4: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.221:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.221' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #5: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.205:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.205' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #6: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.223:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.223' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #7: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.215:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.215' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #8: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.217:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.217' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #9: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.220:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.220' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

testing release v4.19
testing commit 84df9525b0c27f3ebc2ebb1864fa62a97fdedb7d
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: 06ff906aa8b5ccf58775bf175db0892f8ccb774820a22d3e39aa60956339c0ca
run #0: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.55:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.55' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #1: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.158:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.158' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #2: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.10.63:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.10.63' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #3: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.203:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.203' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #4: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.0.55:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.0.55' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #5: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.207:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.207' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #6: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.192:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.192' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #7: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.193:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.193' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #8: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.194:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.194' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

run #9: basic kernel testing failed: failed to copy test binary to VM: failed to run ["scp" "-P" "22" "-F" "/dev/null" "-o" "UserKnownHostsFile=/dev/null" "-o" "BatchMode=yes" "-o" "IdentitiesOnly=yes" "-o" "StrictHostKeyChecking=no" "-o" "ConnectTimeout=10" "/syzkaller/jobs/linux/gopath/src/github.com/google/syzkaller/bin/linux_amd64/syz-fuzzer" "root@10.128.15.202:./syz-fuzzer"]: exit status 1
Warning: Permanently added '10.128.15.202' (ECDSA) to the list of known hosts.
scp: ./syz-fuzzer: Read-only file system

testing release v4.18
testing commit 94710cac0ef4ee177a63b5227664b38c95bbf703
compiler: gcc version 8.4.1 20210217 (GCC)
kernel signature: 54986f44e141d283a42128564beb73c727531fc1c849d2ae7b62c763531fac7a
all runs: boot failed: kernel panic: Attempted to kill init!
testing release v4.17
testing commit 29dcea88779c856c7dc92040a0c01233263101d4
compiler: gcc (GCC) 8.4.1 20210217
failed to run ["make" "-j" "64" "ARCH=x86_64" "CC=/syzkaller/shared/bisect_bin/gcc-8.1.0/bin/gcc" "bzImage"]: exit status 2
testing release v4.16
testing commit 0adb32858b0bddf4ada5f364a84ed60b196dbcda
compiler: gcc (GCC) 8.4.1 20210217
orc_dump.c:106:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
orc_dump.c:111:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
elf.c:135:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:140:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
testing release v4.15
testing commit d8a5b80568a9cb66810e75b182018e9edb68e8ff
compiler: gcc (GCC) 8.4.1 20210217
orc_dump.c:106:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
orc_dump.c:111:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
pager.c:36:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
elf.c:135:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:140:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
testing release v4.14
testing commit bebc6082da0a9f5d47a1ea2edc099bf671058bd4
compiler: gcc (GCC) 8.4.1 20210217
orc_dump.c:105:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
orc_dump.c:110:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
pager.c:36:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
elf.c:134:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:139:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
testing release v4.13
testing commit 569dbb88e80deb68974ef6fdd6a13edb9d686261
compiler: gcc (GCC) 8.4.1 20210217
pager.c:35:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
elf.c:144:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:149:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
testing release v4.12
testing commit 6f7da290413ba713f0cdd9ff1a2a9bb129ef4f6c
compiler: gcc (GCC) 8.4.1 20210217
pager.c:35:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
elf.c:141:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:146:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
testing release v4.11
testing commit a351e9b9fc24e982ec2f0e76379a49826036da12
compiler: gcc (GCC) 7.5.0
elf.c:141:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:146:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
pager.c:35:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
testing release v4.10
testing commit c470abd4fde40ea6a0846a2beab642a578c0b8cd
compiler: gcc (GCC) 5.5.0
tools/include/linux/log2.h:19:1: error: ignoring attribute 'noreturn' because it conflicts with attribute 'const' [-Werror=attributes]
elf.c:129:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:134:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
pager.c:35:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
testing release v4.9
testing commit 69973b830859bc6529a7a0468ba0d80ee5117826
compiler: gcc (GCC) 5.5.0
tools/include/linux/log2.h:19:1: error: ignoring attribute 'noreturn' because it conflicts with attribute 'const' [-Werror=attributes]
elf.c:129:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:134:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
pager.c:35:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
testing release v4.8
testing commit c8d2bc9bc39ebea8437fd974fdbc21847bb897a3
compiler: gcc (GCC) 5.5.0
tools/include/linux/log2.h:19:1: error: ignoring attribute 'noreturn' because it conflicts with attribute 'const' [-Werror=attributes]
elf.c:129:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:134:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
pager.c:33:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
testing release v4.7
testing commit 523d939ef98fd712632d93a5a2b588e477a7565e
compiler: gcc (GCC) 5.5.0
tools/include/linux/log2.h:19:1: error: ignoring attribute 'noreturn' because it conflicts with attribute 'const' [-Werror=attributes]
elf.c:122:2: error: 'elf_getshnum' is deprecated [-Werror=deprecated-declarations]
elf.c:127:2: error: 'elf_getshstrndx' is deprecated [-Werror=deprecated-declarations]
pager.c:33:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
testing release v4.6
testing commit 2dcd0af568b0cf583645c8a317dd12e344b1c72a
compiler: gcc (GCC) 5.5.0
tools/include/linux/log2.h:19:1: error: ignoring attribute 'noreturn' because it conflicts with attribute 'const' [-Werror=attributes]
pager.c:33:12: error: passing argument 2 to 'restrict'-qualified parameter aliases with argument 4 [-Werror=restrict]
revisions tested: 20, total time: 3h20m43.473147712s (build: 2h17m3.202036025s, test: 58m27.865198867s)
the crash already happened on the oldest tested release
commit msg: Linux 5.11
crash: possible deadlock in display_open
======================================================
WARNING: possible circular locking dependency detected
5.11.0-syzkaller #0 Not tainted
------------------------------------------------------
syz-executor613/5898 is trying to acquire lock:
ffffffff8b7d1168 (driver_lock){+.+.}-{3:3}, at: display_open+0x1e/0x1e0 drivers/media/rc/imon.c:503

but task is already holding lock:
ffffffff8b5427b0 (minor_rwsem#2){++++}-{3:3}, at: usb_open+0x1f/0x2a0 drivers/usb/core/file.c:39

which lock already depends on the new lock.


the existing dependency chain (in reverse order) is:

-> #2 (minor_rwsem#2){++++}-{3:3}:
       down_write+0x8d/0x150 kernel/locking/rwsem.c:1406
       usb_register_dev drivers/usb/core/file.c:187 [inline]
       usb_register_dev+0x12e/0x700 drivers/usb/core/file.c:156
       imon_init_display drivers/media/rc/imon.c:2386 [inline]
       imon_probe+0x226b/0x2990 drivers/media/rc/imon.c:2471
       usb_probe_interface+0x274/0x6a0 drivers/usb/core/driver.c:396
       really_probe+0x1fd/0xc60 drivers/base/dd.c:554
       driver_probe_device+0x1ed/0x380 drivers/base/dd.c:740
       bus_for_each_drv+0x11e/0x1a0 drivers/base/bus.c:431
       __device_attach+0x1db/0x400 drivers/base/dd.c:914
       bus_probe_device+0x19d/0x250 drivers/base/bus.c:491
       device_add+0x99a/0x1ad0 drivers/base/core.c:3109
       usb_set_configuration+0x9f9/0x1750 drivers/usb/core/message.c:2164
       usb_generic_driver_probe+0x74/0xa0 drivers/usb/core/generic.c:238
       usb_probe_device+0x98/0x240 drivers/usb/core/driver.c:293
       really_probe+0x1fd/0xc60 drivers/base/dd.c:554
       driver_probe_device+0x1ed/0x380 drivers/base/dd.c:740
       bus_for_each_drv+0x11e/0x1a0 drivers/base/bus.c:431
       __device_attach+0x1db/0x400 drivers/base/dd.c:914
       bus_probe_device+0x19d/0x250 drivers/base/bus.c:491
       device_add+0x99a/0x1ad0 drivers/base/core.c:3109
       usb_new_device.cold+0x69a/0xee1 drivers/usb/core/hub.c:2555
       hub_port_connect drivers/usb/core/hub.c:5223 [inline]
       hub_port_connect_change drivers/usb/core/hub.c:5363 [inline]
       port_event drivers/usb/core/hub.c:5509 [inline]
       hub_event+0x10a3/0x36b0 drivers/usb/core/hub.c:5591
       process_one_work+0x84c/0x13b0 kernel/workqueue.c:2275
       worker_thread+0x598/0xf80 kernel/workqueue.c:2421
       kthread+0x36f/0x450 kernel/kthread.c:292
       ret_from_fork+0x1f/0x30 arch/x86/entry/entry_64.S:296

-> #1 (&ictx->lock){+.+.}-{3:3}:
       __mutex_lock_common kernel/locking/mutex.c:956 [inline]
       __mutex_lock+0x134/0x1110 kernel/locking/mutex.c:1103
       imon_init_intf0 drivers/media/rc/imon.c:2233 [inline]
       imon_probe+0xec9/0x2990 drivers/media/rc/imon.c:2432
       usb_probe_interface+0x274/0x6a0 drivers/usb/core/driver.c:396
       really_probe+0x1fd/0xc60 drivers/base/dd.c:554
       driver_probe_device+0x1ed/0x380 drivers/base/dd.c:740
       bus_for_each_drv+0x11e/0x1a0 drivers/base/bus.c:431
       __device_attach+0x1db/0x400 drivers/base/dd.c:914
       bus_probe_device+0x19d/0x250 drivers/base/bus.c:491
       device_add+0x99a/0x1ad0 drivers/base/core.c:3109
       usb_set_configuration+0x9f9/0x1750 drivers/usb/core/message.c:2164
       usb_generic_driver_probe+0x74/0xa0 drivers/usb/core/generic.c:238
       usb_probe_device+0x98/0x240 drivers/usb/core/driver.c:293
       really_probe+0x1fd/0xc60 drivers/base/dd.c:554
       driver_probe_device+0x1ed/0x380 drivers/base/dd.c:740
       bus_for_each_drv+0x11e/0x1a0 drivers/base/bus.c:431
       __device_attach+0x1db/0x400 drivers/base/dd.c:914
       bus_probe_device+0x19d/0x250 drivers/base/bus.c:491
       device_add+0x99a/0x1ad0 drivers/base/core.c:3109
       usb_new_device.cold+0x69a/0xee1 drivers/usb/core/hub.c:2555
       hub_port_connect drivers/usb/core/hub.c:5223 [inline]
       hub_port_connect_change drivers/usb/core/hub.c:5363 [inline]
       port_event drivers/usb/core/hub.c:5509 [inline]
       hub_event+0x10a3/0x36b0 drivers/usb/core/hub.c:5591
       process_one_work+0x84c/0x13b0 kernel/workqueue.c:2275
       worker_thread+0x598/0xf80 kernel/workqueue.c:2421
       kthread+0x36f/0x450 kernel/kthread.c:292
       ret_from_fork+0x1f/0x30 arch/x86/entry/entry_64.S:296

-> #0 (driver_lock){+.+.}-{3:3}:
       check_prev_add kernel/locking/lockdep.c:2868 [inline]
       check_prevs_add kernel/locking/lockdep.c:2993 [inline]
       validate_chain kernel/locking/lockdep.c:3608 [inline]
       __lock_acquire+0x2b3b/0x57d0 kernel/locking/lockdep.c:4832
       lock_acquire kernel/locking/lockdep.c:5442 [inline]
       lock_acquire+0x1a8/0x720 kernel/locking/lockdep.c:5407
       __mutex_lock_common kernel/locking/mutex.c:956 [inline]
       __mutex_lock+0x134/0x1110 kernel/locking/mutex.c:1103
       display_open+0x1e/0x1e0 drivers/media/rc/imon.c:503
       usb_open+0x1d5/0x2a0 drivers/usb/core/file.c:48
       chrdev_open+0x20f/0x650 fs/char_dev.c:414
       do_dentry_open+0x42a/0xfb0 fs/open.c:817
       do_open fs/namei.c:3254 [inline]
       path_openat+0x129c/0x2190 fs/namei.c:3371
       do_filp_open+0x16d/0x390 fs/namei.c:3398
       do_sys_openat2+0x11e/0x360 fs/open.c:1172
       do_sys_open fs/open.c:1188 [inline]
       __do_sys_openat fs/open.c:1204 [inline]
       __se_sys_openat fs/open.c:1199 [inline]
       __x64_sys_openat+0x11b/0x1d0 fs/open.c:1199
       do_syscall_64+0x2d/0x70 arch/x86/entry/common.c:46
       entry_SYSCALL_64_after_hwframe+0x44/0xa9

other info that might help us debug this:

Chain exists of:
  driver_lock --> &ictx->lock --> minor_rwsem#2

 Possible unsafe locking scenario:

       CPU0                    CPU1
       ----                    ----
  lock(minor_rwsem#2);
                               lock(&ictx->lock);
                               lock(minor_rwsem#2);
  lock(driver_lock);

 *** DEADLOCK ***

1 lock held by syz-executor613/5898:
 #0: ffffffff8b5427b0 (minor_rwsem#2){++++}-{3:3}, at: usb_open+0x1f/0x2a0 drivers/usb/core/file.c:39

stack backtrace:
CPU: 0 PID: 5898 Comm: syz-executor613 Not tainted 5.11.0-syzkaller #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
 __dump_stack lib/dump_stack.c:79 [inline]
 dump_stack+0x9a/0xcc lib/dump_stack.c:120
 check_noncircular+0x25f/0x2e0 kernel/locking/lockdep.c:2117
 check_prev_add kernel/locking/lockdep.c:2868 [inline]
 check_prevs_add kernel/locking/lockdep.c:2993 [inline]
 validate_chain kernel/locking/lockdep.c:3608 [inline]
 __lock_acquire+0x2b3b/0x57d0 kernel/locking/lockdep.c:4832
 lock_acquire kernel/locking/lockdep.c:5442 [inline]
 lock_acquire+0x1a8/0x720 kernel/locking/lockdep.c:5407
 __mutex_lock_common kernel/locking/mutex.c:956 [inline]
 __mutex_lock+0x134/0x1110 kernel/locking/mutex.c:1103
 display_open+0x1e/0x1e0 drivers/media/rc/imon.c:503
 usb_open+0x1d5/0x2a0 drivers/usb/core/file.c:48
 chrdev_open+0x20f/0x650 fs/char_dev.c:414
 do_dentry_open+0x42a/0xfb0 fs/open.c:817
 do_open fs/namei.c:3254 [inline]
 path_openat+0x129c/0x2190 fs/namei.c:3371
 do_filp_open+0x16d/0x390 fs/namei.c:3398
 do_sys_openat2+0x11e/0x360 fs/open.c:1172
 do_sys_open fs/open.c:1188 [inline]
 __do_sys_openat fs/open.c:1204 [inline]
 __se_sys_openat fs/open.c:1199 [inline]
 __x64_sys_openat+0x11b/0x1d0 fs/open.c:1199
 do_syscall_64+0x2d/0x70 arch/x86/entry/common.c:46
 entry_SYSCALL_64_after_hwframe+0x44/0xa9
RIP: 0033:0x7f5f39fdfbc7
Code: 25 00 00 41 00 3d 00 00 41 00 74 47 64 8b 04 25 18 00 00 00 85 c0 75 6b 44 89 e2 48 89 ee bf 9c ff ff ff b8 01 01 00 00 0f 05 <48> 3d 00 f0 ff ff 0f 87 95 00 00 00 48 8b 4c 24 28 64 48 2b 0c 25
RSP: 002b:00007ffc895f92f0 EFLAGS: 00000246 ORIG_RAX: 0000000000000101
RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007f5f39fdfbc7
RDX: 0000000000000002 RSI: 00007ffc895f9370 RDI: 00000000

