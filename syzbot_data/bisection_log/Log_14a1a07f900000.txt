bisecting cause commit starting from fb0155a09b0224a7147cb07a4ce6034c8d29667f
building syzkaller on 1b88c6d5c8477f1d4fb3b389443b200acc32e9a8
testing commit fb0155a09b0224a7147cb07a4ce6034c8d29667f with gcc (GCC) 8.1.0
kernel signature: 11c2edb6d0b21ae177e544419404d48ed572eea722b27fb78dddce8c493939d6
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v5.8
testing commit bcf876870b95592b52519ed4aafcf9d95999bc9c with gcc (GCC) 8.1.0
kernel signature: 8df03f06cc3ef2e94a58b919dc9d639dd3065e38e09170e39bfc8ee0e1cd93a1
run #0: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #1: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #2: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #3: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #4: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #5: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #6: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #7: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #8: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
run #9: boot failed: can't ssh into the instance
testing release v5.7
testing commit 3d77e6a8804abcc0504c904bd6e5cdf3a5cf8162 with gcc (GCC) 8.1.0
kernel signature: 64d193db4088d82799745081c193ed1e1659396d231bc535c0d2717e1067f71b
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v5.6
testing commit 7111951b8d4973bda27ff663f2cf18b663d15b48 with gcc (GCC) 8.1.0
kernel signature: 58bf3a6e3dd52bb683f9908fc8a10828062cc7fc5ef9773d4c03180f0fe795be
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v5.5
testing commit d5226fa6dbae0569ee43ecfc08bdcd6770fc4755 with gcc (GCC) 8.1.0
kernel signature: b2b00b41c5ac757661bfee1c5b84db5ca3008997da69abbe248a45c7ff07f620
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v5.4
testing commit 219d54332a09e8d8741c1e1982f5eae56099de85 with gcc (GCC) 8.1.0
kernel signature: dd7c1d597d10289a61f2b462610505bff7871a3a55a2bc1c1e9fc3a4d1826b68
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v5.3
testing commit 4d856f72c10ecb060868ed10ff1b1453943fc6c8 with gcc (GCC) 8.1.0
kernel signature: 32e39714f791e92cd7124117bfe7ee9a71ccaee4152726c827a7ff5a572558e8
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v5.2
testing commit 0ecfebd2b52404ae0c54a878c872bb93363ada36 with gcc (GCC) 8.1.0
kernel signature: 7c1ad68997593553c433a325aeedf20a8903435cda27a3ff9261672ad0004dd2
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v5.1
testing commit e93c9c99a629c61837d5a7fc2120cd2b6c70dbdd with gcc (GCC) 8.1.0
kernel signature: 4797ff37b8eff183b0f3aee2382c240e15bb986f0991782b6e96febb4a88f922
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v5.0
testing commit 1c163f4c7b3f621efff9b28a47abb36f7378d783 with gcc (GCC) 8.1.0
kernel signature: 7e22b73f35fd7f3306f95c4952e8b57b2bcfe19f29de98a418ee9c74a5d442ad
all runs: crashed: BUG: unable to handle kernel paging request in cfb_imageblit
testing release v4.20
testing commit 8fe28cb58bcb235034b64cbbb7550a8a43fd88be with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.19
testing commit 84df9525b0c27f3ebc2ebb1864fa62a97fdedb7d with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.18
testing commit 94710cac0ef4ee177a63b5227664b38c95bbf703 with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.17
testing commit 29dcea88779c856c7dc92040a0c01233263101d4 with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.16
testing commit 0adb32858b0bddf4ada5f364a84ed60b196dbcda with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.15
testing commit d8a5b80568a9cb66810e75b182018e9edb68e8ff with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.14
testing commit bebc6082da0a9f5d47a1ea2edc099bf671058bd4 with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.13
testing commit 569dbb88e80deb68974ef6fdd6a13edb9d686261 with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.12
testing commit 6f7da290413ba713f0cdd9ff1a2a9bb129ef4f6c with gcc (GCC) 8.1.0
certs/signing_key.pem: Permission denied
testing release v4.11
testing commit a351e9b9fc24e982ec2f0e76379a49826036da12 with gcc (GCC) 7.3.0
certs/signing_key.pem: Permission denied
testing release v4.10
testing commit c470abd4fde40ea6a0846a2beab642a578c0b8cd with gcc (GCC) 5.5.0
certs/signing_key.pem: Permission denied
testing release v4.9
testing commit 69973b830859bc6529a7a0468ba0d80ee5117826 with gcc (GCC) 5.5.0
certs/signing_key.pem: Permission denied
testing release v4.8
testing commit c8d2bc9bc39ebea8437fd974fdbc21847bb897a3 with gcc (GCC) 5.5.0
certs/signing_key.pem: Permission denied
testing release v4.7
testing commit 523d939ef98fd712632d93a5a2b588e477a7565e with gcc (GCC) 5.5.0
certs/signing_key.pem: Permission denied
testing release v4.6
testing commit 2dcd0af568b0cf583645c8a317dd12e344b1c72a with gcc (GCC) 5.5.0
certs/signing_key.pem: Permission denied
revisions tested: 25, total time: 2h15m48.537565516s (build: 1h26m9.246893794s, test: 45m55.338623034s)
the crash already happened on the oldest tested release
commit msg: Linux 5.0
crash: BUG: unable to handle kernel paging request in cfb_imageblit
BUG: unable to handle kernel paging request at ffff888001000028
#PF error: [PROT] [WRITE]
PGD b201067 P4D b201067 PUD b202067 PMD 80000000010001e1 
Oops: 0003 [#1] PREEMPT SMP KASAN
CPU: 0 PID: 10283 Comm: syz-executor.2 Not tainted 5.0.0-syzkaller #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
RIP: 0010:__writel arch/x86/include/asm/io.h:71 [inline]
RIP: 0010:slow_imageblit drivers/video/fbdev/core/cfbimgblt.c:178 [inline]
RIP: 0010:cfb_imageblit+0x741/0xec0 drivers/video/fbdev/core/cfbimgblt.c:302
Code: 0f 85 91 03 00 00 41 0f b6 45 00 44 89 e1 d3 f8 89 d9 a8 01 44 89 d0 0f 45 c6 89 c7 d3 e7 41 09 ff 41 39 db 77 1f 48 8d 7a 04 <44> 89 3a 41 39 db 0f 84 51 02 00 00 b9 20 00 00 00 48 89 fa 29 d9
RSP: 0018:ffff888072ba7520 EFLAGS: 00010246
RAX: 0000000000000000 RBX: 000000000000001c RCX: 000000000000001c
RDX: ffff888001000028 RSI: 0000000000000007 RDI: ffff88800100002c
RBP: ffff888072ba75d8 R08: dffffc0000000000 R09: 0000000000000004
R10: 0000000000000000 R11: 000000000000001c R12: 0000000000000000
R13: ffff8880a571ddba R14: 0000000000000000 R15: 0000000000000000
FS:  00007ffa0cbae700(0000) GS:ffff8880ae800000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: ffff888001000028 CR3: 0000000091871000 CR4: 00000000001406f0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
Call Trace:
 vga_imageblit_expand drivers/video/fbdev/vga16fb.c:1207 [inline]
 vga16fb_imageblit+0x620/0x2380 drivers/video/fbdev/vga16fb.c:1260
 bit_putcs_unaligned drivers/video/fbdev/core/bitblit.c:139 [inline]
 bit_putcs+0x928/0xde0 drivers/video/fbdev/core/bitblit.c:188
 fbcon_putcs+0x301/0x4c0 drivers/video/fbdev/core/fbcon.c:1325
 con_flush drivers/tty/vt/vt.c:2512 [inline]
 do_con_write.part.18+0x73b/0x1aa0 drivers/tty/vt/vt.c:2717
 do_con_write drivers/tty/vt/vt.c:2531 [inline]
 con_write+0x1f/0x80 drivers/tty/vt/vt.c:3100
 process_output_block drivers/tty/n_tty.c:593 [inline]
 n_tty_write+0x4a4/0x1050 drivers/tty/n_tty.c:2331
 do_tty_write drivers/tty/tty_io.c:959 [inline]
 tty_write+0x342/0x770 drivers/tty/tty_io.c:1043
 __vfs_write+0xe3/0x970 fs/read_write.c:485
 vfs_write+0x150/0x4e0 fs/read_write.c:549
 ksys_write+0xcd/0x1b0 fs/read_write.c:598
 __do_sys_write fs/read_write.c:610 [inline]
 __se_sys_write fs/read_write.c:607 [inline]
 __x64_sys_write+0x6e/0xb0 fs/read_write.c:607
 do_syscall_64+0xd0/0x4d0 arch/x86/entry/common.c:290
 entry_SYSCALL_64_after_hwframe+0x49/0xbe
RIP: 0033:0x45dd99
Code: 0d b4 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 db b3 fb ff c3 66 2e 0f 1f 84 00 00 00 00
RSP: 002b:00007ffa0cbadc78 EFLAGS: 00000246 ORIG_RAX: 0000000000000001
RAX: ffffffffffffffda RBX: 00000000000393c0 RCX: 000000000045dd99
RDX: 0000000000001006 RSI: 0000000020001440 RDI: 0000000000000008
RBP: 000000000118c008 R08: 0000000000000000 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000246 R12: 000000000118bfd4
R13: 00007ffcb9293d0f R14: 00007ffa0cbae9c0 R15: 000000000118bfd4
Modules linked in:
CR2: ffff888001000028
---[ end trace 27251472c69cfbc7 ]---
RIP: 0010:__writel arch/x86/include/asm/io.h:71 [inline]
RIP: 0010:slow_imageblit drivers/video/fbdev/core/cfbimgblt.c:178 [inline]
RIP: 0010:cfb_imageblit+0x741/0xec0 drivers/video/fbdev/core/cfbimgblt.c:302
Code: 0f 85 91 03 00 00 41 0f b6 45 00 44 89 e1 d3 f8 89 d9 a8 01 44 89 d0 0f 45 c6 89 c7 d3 e7 41 09 ff 41 39 db 77 1f 48 8d 7a 04 <44> 89 3a 41 39 db 0f 84 51 02 00 00 b9 20 00 00 00 48 89 fa 29 d9
RSP: 0018:ffff888072ba7520 EFLAGS: 00010246
RAX: 0000000000000000 RBX: 000000000000001c RCX: 000000000000001c
RDX: ffff888001000028 RSI: 0000000000000007 RDI: ffff88800100002c
RBP: ffff888072ba75d8 R08: dffffc0000000000 R09: 0000000000000004
R10: 0000000000000000 R11: 000000000000001c R12: 0000000000000000
R13: ffff8880a571ddba R14: 0000000000000000 R15: 0000000000000000
FS:  00007ffa0cbae700(0000) GS:ffff8880ae800000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: ffff888001000028 CR3: 0000000091871000 CR4: 00000000001406f0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400

